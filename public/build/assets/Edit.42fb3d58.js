import{q as $,o as d,b as p,d as a,u as l,w as n,F as c,H as k,a as o,L as v,h as f,t as r,g as _,m as g,y as x,c as O,x as y}from"./app.2ccf841f.js";import{_ as j}from"./AdminLayout.cc6b8d43.js";import{C as B}from"./Card.53d0f134.js";import{_ as C}from"./TextInput.c49deda3.js";import{_ as F}from"./TextareaInput.8e6b7e85.js";import{_ as b}from"./SelectInput.7600b19c.js";import{L}from"./LoadingButton.0800d954.js";import{_ as N}from"./TrashedMessage.39a2a81b.js";import{_ as U,a as S,b as D}from"./RoomsList.3c4a519d.js";import"./LanguageSwitcher.cb537353.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Dropdown.6ea7b926.js";import"./Icon.6689216d.js";import"./Pagination.535567c1.js";import"./Modal.95e75e17.js";import"./Spinner.ad70554a.js";import"./pickBy.83d2d581.js";import"./debounce.1e54c607.js";import"./_defineProperty.09f4b3d5.js";const P={class:"mb-4 text-3xl font-bold text-teal-600"},T=o("span",{class:"font-medium"}," / ",-1),A={class:"flex flex-wrap gap-4"},E={class:"flex w-full flex-col xl:w-1/4"},H=o("h3",{class:"text-xl font-bold"},"Playlist",-1),I=["onSubmit"],Y={value:1},q={value:0},M=["value"],R=["value"],z={class:"flex-1"},pe={__name:"Edit",props:{playlist:Object,filters:Object,answer_types:Object,tracks:Object,moderators:Object},setup(t){const u=t,e=$(u.playlist),w=()=>{e.put(`/admin/playlists/${u.playlist.id}`,{onSuccess:()=>e.reset("password","photo")})},h=()=>{confirm("Are you sure you want to delete this playlist?")&&y.Inertia.delete(`/admin/playlists/${u.playlist.id}`)},V=()=>{confirm("Are you sure you want to restore this playlist?")&&y.Inertia.put(`/admin/playlists/${u.playlist.id}/restore`)};return(s,m)=>(d(),p(c,null,[a(l(k),{title:`${l(e).name}`},null,8,["title"]),a(j,null,{default:n(()=>[o("h1",P,[a(l(v),{href:s.route("admin.playlists")},{default:n(()=>[f(r(s.__("Playlists")),1)]),_:1},8,["href"]),T,f(" "+r(l(e).name),1)]),o("div",A,[o("div",E,[a(B,{class:"mb-4"},{header:n(()=>[H]),footer:n(()=>[t.playlist.deleted_at?_("",!0):(d(),p("button",{key:0,class:"text-sm text-red-600 hover:underline",tabindex:"-1",type:"button",onClick:h},r(s.__("Delete")),1)),a(L,{loading:l(e).processing,class:"btn-primary ml-auto",form:"playlistForm",type:"submit"},{default:n(()=>[f(r(s.__("Update")),1)]),_:1},8,["loading"])]),default:n(()=>[o("form",{id:"playlistForm",class:"p-4",onSubmit:g(w,["prevent"])},[a(C,{modelValue:l(e).name,"onUpdate:modelValue":m[0]||(m[0]=i=>l(e).name=i),error:l(e).errors.name,class:"mb-4 w-full",label:s.__("Title")},null,8,["modelValue","error","label"]),a(F,{modelValue:l(e).description,"onUpdate:modelValue":m[1]||(m[1]=i=>l(e).description=i),error:l(e).errors.description,class:"mb-4 w-full",label:s.__("Description")},null,8,["modelValue","error","label"]),a(b,{modelValue:l(e).is_public,"onUpdate:modelValue":m[2]||(m[2]=i=>l(e).is_public=i),error:l(e).errors.is_public,class:"mb-4 w-full",label:s.__("Public")},{default:n(()=>[o("option",Y,r(s.__("Yes")),1),o("option",q,r(s.__("No")),1)]),_:1},8,["modelValue","error","label"]),a(b,{modelValue:l(e).user_id,"onUpdate:modelValue":m[3]||(m[3]=i=>l(e).user_id=i),error:l(e).errors.user_id,class:"w-full",label:s.__("Owner")},{default:n(()=>[o("option",{value:t.playlist.owner.id},r(t.playlist.owner.name),9,M),(d(!0),p(c,null,x(t.playlist.moderators,i=>(d(),p("option",{value:i.id},r(i.name),9,R))),256))]),_:1},8,["modelValue","error","label"]),o("small",null,r(s.__("You can transfer the playlist management to a moderator.")),1)],40,I)]),_:1}),a(U,{playlist:t.playlist,class:"mb-4"},null,8,["playlist"]),a(S,{playlist:t.playlist},null,8,["playlist"])]),o("div",z,[t.playlist.deleted_at?(d(),O(N,{key:0,class:"mb-6",onRestore:V},{default:n(()=>[f(r(s.__("This playlist has been deleted.")),1)]),_:1})):_("",!0),a(D,{playlist:t.playlist,filters:t.filters,tracks:t.tracks,answer_types:t.answer_types},null,8,["playlist","filters","tracks","answer_types"])])])]),_:1})],64))}};export{pe as default};
