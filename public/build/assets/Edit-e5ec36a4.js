import{P as $,J as k,c as p,a as s,u as e,w as o,F as y,o as d,X as g,b as n,n as v,d as f,t as i,g as c,e as x,v as O,h as j,s as _}from"./app-d721267d.js";import{_ as B}from"./AppLayout-3f82a911.js";import{C}from"./Card-73e0c1e9.js";import{_ as F}from"./TextInput-09144107.js";import{_ as N}from"./TextareaInput-7b68c5cb.js";import{_ as S}from"./SelectInput-a8021202.js";import{L as T}from"./LoadingButton-c26c9090.js";import{_ as U}from"./TrashedMessage-84ec9175.js";import{_ as D,a as L,b as P}from"./RoomsList-a3dbcf3e.js";import"./LanguageSwitcher-882651fe.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Dropdown-1979e914.js";import"./Icon-97e692a8.js";import"./Navbar-e1fd621c.js";import"./throttle-815b75de.js";import"./_defineProperty-2694e645.js";import"./isSymbol-00efd63c.js";import"./debounce-c15f2e14.js";import"./SocialIcon-7b1795d7.js";import"./v4-cf522c50.js";import"./Pagination-dbebdbb6.js";import"./Modal-50313139.js";import"./Spinner-7167c342.js";import"./Tip-74f30155.js";const A={class:"mb-4 text-3xl font-bold"},E=n("span",{class:"font-medium"}," / ",-1),J={class:"flex flex-wrap gap-4"},M={key:0,class:"flex w-full flex-col xl:w-1/4"},R=n("h3",{class:"text-xl font-bold"},"Playlist",-1),X=["onSubmit"],q=["value"],z={class:"flex-1"},_e={__name:"Edit",props:{playlist:Object,filters:Object,answer_types:Object,tracks:Object,moderators:Object},setup(l){const u=l,t=$(u.playlist),b=k().props.auth.user,h=()=>{t.put(`/playlists/${u.playlist.id}`,{onSuccess:()=>t.reset("password","photo")})},w=()=>{confirm("Are you sure you want to delete this playlist?")&&_.delete(`/playlists/${u.playlist.id}`)},V=()=>{confirm("Are you sure you want to restore this playlist?")&&_.put(`/playlists/${u.playlist.id}/restore`)};return(a,m)=>(d(),p(y,null,[s(e(g),{title:`${e(t).name}`},null,8,["title"]),s(B,null,{default:o(()=>[n("h1",A,[s(e(v),{href:a.route("playlists")},{default:o(()=>[f(i(a.__("Playlists")),1)]),_:1},8,["href"]),E,f(" "+i(e(t).name),1)]),n("div",J,[e(b).id===l.playlist.user_id?(d(),p("div",M,[s(C,{class:"mb-4"},{header:o(()=>[R]),footer:o(()=>[l.playlist.deleted_at?c("",!0):(d(),p("button",{key:0,class:"text-sm text-red-500 hover:underline",tabindex:"-1",type:"button",onClick:w},i(a.__("Delete")),1)),s(T,{loading:e(t).processing,class:"btn-primary ml-auto",form:"playlistForm",type:"submit"},{default:o(()=>[f(i(a.__("Update")),1)]),_:1},8,["loading"])]),default:o(()=>[n("form",{id:"playlistForm",class:"p-4",onSubmit:x(h,["prevent"])},[s(F,{modelValue:e(t).name,"onUpdate:modelValue":m[0]||(m[0]=r=>e(t).name=r),error:e(t).errors.name,class:"mb-4 w-full",label:a.__("Title")},null,8,["modelValue","error","label"]),s(N,{modelValue:e(t).description,"onUpdate:modelValue":m[1]||(m[1]=r=>e(t).description=r),error:e(t).errors.description,class:"mb-4 w-full",label:a.__("Description")},null,8,["modelValue","error","label"]),s(S,{modelValue:e(t).user_id,"onUpdate:modelValue":m[2]||(m[2]=r=>e(t).user_id=r),error:e(t).errors.user_id,class:"w-full",label:a.__("Owner")},{default:o(()=>[(d(!0),p(y,null,O(l.playlist.moderators,r=>(d(),p("option",{value:r.id},i(r.name),9,q))),256))]),_:1},8,["modelValue","error","label"]),n("small",null,i(a.__("Transfer the playlist management to a moderator.")),1)],40,X)]),_:1}),s(D,{playlist:l.playlist,class:"mb-4"},null,8,["playlist"]),s(L,{playlist:l.playlist},null,8,["playlist"])])):c("",!0),n("div",z,[l.playlist.deleted_at?(d(),j(U,{key:0,class:"mb-6",onRestore:V},{default:o(()=>[f(i(a.__("This playlist has been deleted.")),1)]),_:1})):c("",!0),s(P,{playlist:l.playlist,filters:l.filters,tracks:l.tracks,answer_types:l.answer_types},null,8,["playlist","filters","tracks","answer_types"])])])]),_:1})],64))}};export{_e as default};
