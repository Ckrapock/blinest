import{_ as $}from"./plugin-vue_export-helper.21dcd24c.js";import{o as r,b as p,a as e,t as l,k as w,e as v,c as g,w as t,u as i,d as f,m as d,n as u,L as h,p as b}from"./app.e47e5905.js";import{_ as k}from"./Dropdown.c59b2b1e.js";import{_ as x}from"./Icon.b99ae8d7.js";const L={data(){return{show:!0}},watch:{"$page.props.flash":{handler(){this.show=!0},deep:!0}}},B={key:0,class:"mb-8 flex max-w-3xl items-center justify-between rounded bg-green-500"},z={class:"flex items-center"},C=e("svg",{class:"ml-4 mr-2 h-4 w-4 flex-shrink-0 fill-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("polygon",{points:"0 11 2 9 7 14 18 3 20 5 7 18"})],-1),j={class:"py-4 text-sm font-medium text-white"},M=e("svg",{class:"block h-2 w-2 fill-green-800 group-hover:fill-white",xmlns:"http://www.w3.org/2000/svg",width:"235.908",height:"235.908",viewBox:"278.046 126.846 235.908 235.908"},[e("path",{d:"M506.784 134.017c-9.56-9.56-25.06-9.56-34.62 0L396 210.18l-76.164-76.164c-9.56-9.56-25.06-9.56-34.62 0-9.56 9.56-9.56 25.06 0 34.62L361.38 244.8l-76.164 76.165c-9.56 9.56-9.56 25.06 0 34.62 9.56 9.56 25.06 9.56 34.62 0L396 279.42l76.164 76.165c9.56 9.56 25.06 9.56 34.62 0 9.56-9.56 9.56-25.06 0-34.62L430.62 244.8l76.164-76.163c9.56-9.56 9.56-25.06 0-34.62z"})],-1),N=[M],T={key:1,class:"mb-8 flex max-w-3xl items-center justify-between rounded bg-red-500"},V={class:"flex items-center"},A=e("svg",{class:"ml-4 mr-2 h-4 w-4 flex-shrink-0 fill-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm1.41-1.41A8 8 0 1 0 15.66 4.34 8 8 0 0 0 4.34 15.66zm9.9-8.49L11.41 10l2.83 2.83-1.41 1.41L10 11.41l-2.83 2.83-1.41-1.41L8.59 10 5.76 7.17l1.41-1.41L10 8.59l2.83-2.83 1.41 1.41z"})],-1),D={key:0,class:"py-4 text-sm font-medium text-white"},O={key:1,class:"py-4 text-sm font-medium text-white"},U={key:0},F={key:1},P=e("svg",{class:"block h-2 w-2 fill-red-800 group-hover:fill-white",xmlns:"http://www.w3.org/2000/svg",width:"235.908",height:"235.908",viewBox:"278.046 126.846 235.908 235.908"},[e("path",{d:"M506.784 134.017c-9.56-9.56-25.06-9.56-34.62 0L396 210.18l-76.164-76.164c-9.56-9.56-25.06-9.56-34.62 0-9.56 9.56-9.56 25.06 0 34.62L361.38 244.8l-76.164 76.165c-9.56 9.56-9.56 25.06 0 34.62 9.56 9.56 25.06 9.56 34.62 0L396 279.42l76.164 76.165c9.56 9.56 25.06 9.56 34.62 0 9.56-9.56 9.56-25.06 0-34.62L430.62 244.8l76.164-76.163c9.56-9.56 9.56-25.06 0-34.62z"})],-1),S=[P];function E(o,n,c,s,a,m){return r(),p("div",null,[o.$page.props.flash.success&&a.show?(r(),p("div",B,[e("div",z,[C,e("div",j,l(o.$page.props.flash.success),1)]),e("button",{type:"button",class:"group mr-2 p-2",onClick:n[0]||(n[0]=_=>a.show=!1)},N)])):w("",!0),(o.$page.props.flash.error||Object.keys(o.$page.props.errors).length>0)&&a.show?(r(),p("div",T,[e("div",V,[A,o.$page.props.flash.error?(r(),p("div",D,l(o.$page.props.flash.error),1)):(r(),p("div",O,[Object.keys(o.$page.props.errors).length===1?(r(),p("span",U,"There is one form error.")):(r(),p("span",F,"There are "+l(Object.keys(o.$page.props.errors).length)+" form errors.",1))]))]),e("button",{type:"button",class:"group mr-2 p-2",onClick:n[1]||(n[1]=_=>a.show=!1)},S)])):w("",!0)])}var ee=$(L,[["render",E]]);const I={class:"group flex cursor-pointer select-none items-center"},R={class:"mr-1 whitespace-nowrap"},W=["src","alt"],se={__name:"UserDropdown",setup(o){const n=v().props.value.auth.user,c=(...s)=>{let a=v().url.value.substr(1);return s[0]===""?a==="":s.filter(m=>a.startsWith(m)).length};return(s,a)=>(r(),g(k,{placement:"bottom-end"},{default:t(()=>[e("div",I,[e("div",R,[e("img",{src:i(n).photo,class:"w-10 h-10 rounded-full",alt:i(n).name},null,8,W)])])]),dropdown:t(()=>[e("ul",null,[e("li",null,[f(i(h),{href:s.route("me"),class:u(["m-4 flex pl-2",c("me")?"font-bold":"font-normal"])},{default:t(()=>[d(l(s.__("My profile")),1)]),_:1},8,["href","class"])]),e("li",null,[f(i(h),{href:s.route("playlists"),class:u(["m-4 flex pl-2",c("playlists")?"font-bold":"font-normal"])},{default:t(()=>[d(l(s.__("Playlists")),1)]),_:1},8,["href","class"])]),e("li",null,[f(i(h),{href:s.route("rooms.index"),class:u(["m-4 flex pl-2",c("rooms")?"font-bold":"font-normal"])},{default:t(()=>[d(l(s.__("Rooms")),1)]),_:1},8,["href","class"])]),e("li",null,[f(i(h),{href:s.route("teams.index"),class:u(["m-4 flex pl-2",c("teams")?"font-bold":"font-normal"])},{default:t(()=>[d(l(s.__("Teams")),1)]),_:1},8,["href","class"])]),e("li",null,[i(n).admin?(r(),g(i(h),{key:0,href:s.route("admin.dashboard"),class:u(["m-4 flex pl-2",c("teams")?"font-bold":"font-normal"])},{default:t(()=>[d(l(s.__("Administration")),1)]),_:1},8,["href","class"])):w("",!0)]),e("li",null,[f(i(h),{href:"/logout",method:"post",as:"button",class:"m-4 flex pl-2 text-red-500"},{default:t(()=>[d(l(s.__("Logout")),1)]),_:1})])])]),_:1}))}},q={components:{Link:h,Icon:x,Dropdown:k},computed:{selectable_locale(){return this.$page.props.locale=="fr"?"en":"fr"}}},G={class:"group flex cursor-pointer select-none items-center"},H={class:"mr-1 whitespace-nowrap"},J={class:"uppercase"};function K(o,n,c,s,a,m){const _=b("Link"),y=b("dropdown");return r(),g(y,{placement:"bottom-end"},{default:t(()=>[e("div",G,[e("div",H,[e("span",J,l(o.$page.props.locale),1)])])]),dropdown:t(()=>[f(_,{href:o.route("language",[m.selectable_locale]),class:"p-4 uppercase"},{default:t(()=>[d(l(m.selectable_locale),1)]),_:1},8,["href"])]),_:1})}var oe=$(q,[["render",K]]);export{ee as F,oe as L,se as _};
