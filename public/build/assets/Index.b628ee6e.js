import{q as w,h as g,o as l,b as o,d as r,u as d,H as N,w as i,F as f,a as s,t as a,L as n,m as h,y as u,k as m,c as V,n as C,x as v}from"./app.e47e5905.js";import{_ as B}from"./AppLayout.6652fede.js";import{_ as y}from"./Icon.b99ae8d7.js";import{_ as R}from"./Pagination.e048b484.js";import{_ as $}from"./SearchFilter.db6ce7d9.js";import{C as j}from"./Card.96514456.js";import{t as F,p as L}from"./pickBy.615c9b24.js";import"./LanguageSwitcher.004676ec.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Dropdown.c59b2b1e.js";import"./Navbar.5230c35c.js";import"./Logo.f4483971.js";import"./TextInput.a612d17f.js";import"./debounce.f308b35d.js";import"./_defineProperty.14bd0892.js";const H={class:"mb-8 text-3xl font-bold"},I={class:"mb-6 flex items-center justify-between"},O={class:"overflow-x-auto"},P={class:"w-full whitespace-nowrap"},S={class:"text-left font-bold"},q={class:"px-2 pb-4 pt-6"},z={class:"px-2 pb-4 pt-6"},D={class:"px-2 pb-4 pt-6"},E={class:"px-2 pb-4 pt-6"},M={class:"px-2 pb-4 pt-6"},T={class:"px-2 pb-4 pt-6",colspan:"2"},U={class:"border-t"},Y=["src"],A={class:"flex flex-col"},G={class:"max-w-[18rem] truncate text-gray-500"},J={class:"border-t"},K={class:"flex items-center px-2 py-4 text-sm"},Q={class:"border-t"},W={class:"border-t"},X={key:0,class:"flex items-center px-2 py-4 text-sm"},Z={key:1,class:"text-xs text-neutral-500"},ee={class:"border-t"},se={class:"border-t"},te={key:0,class:"text-xs text-neutral-500"},ae={class:"w-px border-t"},re={key:0},le={class:"border-t px-2 py-4",colspan:"6"},we={__name:"Index",props:{filters:Object,rooms:Object},setup(p){const b=p,c=w({search:b.filters.search,trashed:b.filters.trashed});g(c,F(()=>{v.Inertia.get("/rooms",L(c),{remember:"forget",preserveState:!0})},150),{deep:!0});const k=()=>{c.reset()};return(t,x)=>(l(),o(f,null,[r(d(N),{title:"Rooms"}),r(B,null,{default:i(()=>[s("h1",H,a(t.__("Rooms")),1),s("div",I,[r($,{modelValue:d(c).search,"onUpdate:modelValue":x[0]||(x[0]=e=>d(c).search=e),class:"mr-4 w-full max-w-md",onReset:k},null,8,["modelValue"]),r(d(n),{class:"btn-primary",href:t.route("rooms.create")},{default:i(()=>[h(a(t.__("Create a room")),1)]),_:1},8,["href"])]),r(j,null,{default:i(()=>[s("div",O,[s("table",P,[s("tr",S,[s("th",q,a(t.__("Name")),1),s("th",z,a(t.__("Moderators")),1),s("th",D,a(t.__("Category")),1),s("th",E,a(t.__("Playlists")),1),s("th",M,a(t.__("Rounds played")),1),s("th",T,a(t.__("Visibility")),1)]),(l(!0),o(f,null,u(p.rooms.data,e=>(l(),o("tr",{key:e.id},[s("td",U,[r(d(n),{class:"flex items-center px-2 py-4",href:t.route("rooms.edit",e.id)},{default:i(()=>[e.photo?(l(),o("img",{key:0,class:"-my-2 mr-2 block h-10 w-10 rounded-full",src:e.photo},null,8,Y)):m("",!0),s("div",A,[h(a(e.name)+" ",1),s("small",G,a(e.description),1)]),e.deleted_at?(l(),V(y,{key:1,name:"trash",class:"ml-2 h-3 w-3 flex-shrink-0 fill-gray-400"})):m("",!0)]),_:2},1032,["href"])]),s("td",J,[r(d(n),{class:"flex items-center px-2 py-4",href:t.route("rooms.edit",e.id),tabindex:"-1"},{default:i(()=>[s("ul",K,[(l(!0),o(f,null,u(e.moderators,_=>(l(),o("li",{key:_.id,class:"badge"},a(_.name),1))),128))])]),_:2},1032,["href"])]),s("td",Q,[r(d(n),{class:"flex items-center px-2 py-4",href:t.route("rooms.edit",e.id),tabindex:"-1"},{default:i(()=>[h(a(e.category.name),1)]),_:2},1032,["href"])]),s("td",W,[r(d(n),{class:"flex items-center px-2 py-4",href:t.route("rooms.edit",e.id),tabindex:"-1"},{default:i(()=>[e.playlists.length?(l(),o("ul",X,[(l(!0),o(f,null,u(e.playlists,_=>(l(),o("li",{key:_.id,class:"badge"},a(_.name),1))),128))])):(l(),o("span",Z,a(t.__("No playlist")),1))]),_:2},1032,["href"])]),s("td",ee,[r(d(n),{class:"flex flex-col items-start px-2 py-4",href:t.route("rooms.edit",e.id),tabindex:"-1"},{default:i(()=>[h(a(e.rounds_count),1)]),_:2},1032,["href"])]),s("td",se,[r(d(n),{class:"flex flex-col items-start px-2 py-4",href:t.route("rooms.edit",e.id),tabindex:"-1"},{default:i(()=>[s("span",{class:C(["badge",e.password?"bg-neutral-300":"bg-teal-600  text-neutral-100"])},a(e.password?t.__("No"):t.__("Yes")),3),e.password?(l(),o("small",te,a(t.__("Password protected")),1)):m("",!0)]),_:2},1032,["href"])]),s("td",ae,[r(d(n),{class:"flex items-center px-4",href:t.route("rooms.edit",e.id),tabindex:"-1"},{default:i(()=>[r(y,{name:"cheveron-right",class:"block h-6 w-6 fill-gray-400"})]),_:2},1032,["href"])])]))),128)),p.rooms.length===0?(l(),o("tr",re,[s("td",le,a(t.__("No rooms found.")),1)])):m("",!0)])]),r(R,{links:p.rooms.links},null,8,["links"])]),_:1})]),_:1})],64))}};export{we as default};
