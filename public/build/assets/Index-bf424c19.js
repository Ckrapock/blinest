import{J as C,P as q,l as j,c as r,a as i,u as l,w as c,F as v,o,X as B,b as e,t as a,h as b,d as h,n as d,I as x,N as y,v as $,s as _}from"./app-d721267d.js";import{_ as N}from"./TextInput-09144107.js";import{_ as S}from"./AppLayout-3f82a911.js";import{t as V,p as D}from"./throttle-815b75de.js";import"./Icon-97e692a8.js";import"./v4-cf522c50.js";import"./LanguageSwitcher-882651fe.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Dropdown-1979e914.js";import"./Navbar-e1fd621c.js";import"./SocialIcon-7b1795d7.js";import"./_defineProperty-2694e645.js";import"./isSymbol-00efd63c.js";import"./debounce-c15f2e14.js";const L={class:"mx-auto max-w-screen-xl py-8 px-4 text-center lg:py-16 lg:px-6"},R={class:"mx-auto mb-8 max-w-screen-sm lg:mb-16"},T={class:"mb-4 text-4xl font-extrabold tracking-tight"},z=e("p",{class:"font-light sm:text-xl"},"Rejoins une team et partages tes scores avec les autres membres pour exploser les compteurs!",-1),F={class:"my-6 flex justify-center"},I={class:"mt-16 flex justify-center"},J={key:0,class:"flex items-center gap-8"},M=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-20 w-20",viewBox:"0 0 20 20",fill:"currentColor"},[e("title",null,"Previous team list"),e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),O={class:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4 lg:gap-16"},P={class:"relative"},E={class:"absolute top-1 right-1 rounded-full bg-teal-500 py-1 px-2 font-bold text-white"},U=["src","alt"],X={class:"mb-1 truncate text-2xl font-bold tracking-tight"},A=["onClick"],G=["onClick"],H=["onClick"],K=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-20 w-20",viewBox:"0 0 20 20",fill:"currentColor"},[e("title",null,"Next team list"),e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),Q={key:1},ue={__name:"Index",props:{teams:Object,filters:Object},setup(n){const w=n,u=C().props.auth.user,m=q({search:w.filters.search});j(m,V(()=>{_.get("/teams",D(m),{remember:"forget",preserveState:!0})},150),{deep:!0});const k=t=>{_.post(`/teams/${t.id}/request`)},p=t=>{_.post(`/teams/${t.id}/request/cancel`)};return(t,f)=>(o(),r(v,null,[i(l(B),{title:t.__("Teams")},null,8,["title"]),i(S,null,{default:c(()=>[e("section",null,[e("div",L,[e("div",R,[e("h2",T,a(t.__("Teams")),1),z,e("div",F,[l(u).team?(o(),b(l(d),{key:1,href:t.route("teams.show",l(u).team.id),class:"btn-primary btn-lg"},{default:c(()=>[h(a(t.__("Show my team")),1)]),_:1},8,["href"])):(o(),b(l(d),{key:0,href:"/teams/create",class:"btn-primary btn-lg"},{default:c(()=>[h(a(t.__("Create a team")),1)]),_:1}))]),e("div",I,[i(N,{modelValue:l(m).search,"onUpdate:modelValue":f[0]||(f[0]=s=>l(m).search=s),placeholder:t.__("Search a team")},null,8,["modelValue","placeholder"])])]),n.teams.data.length?(o(),r("div",J,[x(i(l(d),{href:n.teams.prev_page_url},{default:c(()=>[M]),_:1},8,["href"]),[[y,n.teams.prev_page_url]]),e("div",O,[(o(!0),r(v,null,$(n.teams.data,s=>(o(),r("div",{class:"text-center",key:s.id},[e("div",P,[e("span",E,[e("sup",null,a(s.members_count),1),h("⁄"),e("sub",null,a(s.seats),1)]),e("img",{class:"mx-auto mb-4 h-36 w-36 rounded-full",src:s.photo,alt:s.name},null,8,U)]),e("h3",X,[i(l(d),{href:t.route("teams.show",s.id)},{default:c(()=>[h(a(s.name),1)]),_:2},1032,["href"])]),e("p",null,"@"+a(s.owner.name),1),l(u).declined_requests.includes(s.id)?(o(),r("button",{key:0,type:"button",onClick:g=>p(s),class:"btn-danger mx-auto my-6"},a(t.__("Declined request")),9,A)):l(u).pending_requests.includes(s.id)?(o(),r("button",{key:1,type:"button",onClick:g=>p(s),class:"btn-danger mx-auto my-6"},a(t.__("Cancel join request")),9,G)):(o(),r("button",{key:2,type:"button",onClick:g=>k(s),class:"btn-secondary mx-auto my-6"},a(t.__("Send a join request")),9,H))]))),128))]),x(i(l(d),{href:n.teams.next_page_url},{default:c(()=>[K]),_:1},8,["href"]),[[y,n.teams.next_page_url]])])):(o(),r("div",Q,a(t.__("No result")),1))])])]),_:1})],64))}};export{ue as default};
