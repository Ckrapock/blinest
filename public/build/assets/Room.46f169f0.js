import{h as r,k as d,B as h,o as c,c as m,w as i,u as v,L as f,a as e,m as u,t as o,d as _,b as w,g,A as x}from"./app.6178a65b.js";const k={class:"h-full w-full"},y={class:"relative overflow-hidden"},b={class:"h-auto w-full"},p=["src","alt"],z={class:"absolute top-1 right-2 w-auto font-bold"},A={class:"flex items-center"},B=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mr-1 h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})],-1),M={class:"absolute bottom-2 right-2 w-auto"},V={key:0,xmlns:"http://www.w3.org/2000/svg",class:"mr-1 h-4 w-4 animate-pulse",viewBox:"0 0 20 20",fill:"currentColor"},C=e("path",{"fill-rule":"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z","clip-rule":"evenodd"},null,-1),E={class:"flex items-center justify-between bg-gray-800 p-2 text-sm uppercase text-gray-100"},N={class:"flex items-center"},H={__name:"Room",props:{room:Object},setup(a){const s=`rooms.${a.room.id}`,t=r(null),l=r(!1);return d(()=>{Echo.channel(s).listen("TrackPlayed",n=>{t.value=n.data,l.value=!0}),Echo.channel(s).listen("RoundFinished",()=>{l.value=!1,t.value&&(t.value.current_track_index=0)})}),h(()=>{Echo.leave(s)}),(n,L)=>(c(),m(v(f),{href:`/rooms/${a.room.id}`,class:"relative flex w-full flex-col items-center justify-center rounded-sm bg-gray-100 shadow transition duration-100 ease-in-out hover:z-10 hover:scale-110 dark:bg-gray-500"},{default:i(()=>[e("article",k,[e("div",y,[e("picture",b,[e("img",{src:a.room.photo,alt:a.room.name},null,8,p)]),e("div",z,[e("div",A,[B,u(" "+o(t.value?t.value.users_count:a.room.users_count),1)])]),e("div",M,[_(x,{name:"slide-fade"},{default:i(()=>[l.value?(c(),w("svg",V,[e("title",null,o(n.__("Playing in progress")),1),C])):g("",!0)]),_:1})])]),e("div",E,[u(o(a.room.name)+" ",1),e("div",N,o(t.value?t.value.current_track_index:a.room.current_track_index)+" / "+o(t.value?t.value.tracks_count:a.room.tracks_by_round),1)])])]),_:1},8,["href"]))}};export{H as default};
