import{P as v,c as i,a as r,u as a,w as n,F as h,o as u,X as k,b as e,t as s,d as m,e as S,v as b,f as y,n as _,g as w,s as N}from"./app-f6824ecf.js";import{_ as U}from"./AppLayout-682c8b6d.js";import{C as p}from"./Card-261bd2f6.js";import{_ as x}from"./TextInput-4085333a.js";import{F as P}from"./FileInput-e3a47611.js";import{L as C}from"./LoadingButton-7c96c2e4.js";import{_ as F}from"./Pagination-1822251b.js";import"./LanguageSwitcher-d168d683.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Dropdown-b8d92112.js";import"./Icon-1ce38a62.js";import"./Navbar-c61313dc.js";import"./throttle-b11e308e.js";import"./_defineProperty-98183d58.js";import"./isSymbol-363e1f0a.js";import"./debounce-d2fd0fa0.js";import"./SocialIcon-b495e5c3.js";import"./v4-cf522c50.js";const L={class:"flex flex-wrap"},T={class:"lg:mr-4 pr-4 text-center w-full lg:w-auto mt-4"},B={class:"mb-6 flex justify-center"},j=["src","alt"],I={class:"text-xl font-bold"},R={class:"text-xs text-neutral-400"},$={class:"my-8"},q={class:"mb-4 flex flex-col"},z={class:"font-bold"},D=e("br",null,null,-1),E={class:"mb-4 flex flex-col"},M={class:"font-bold"},O={key:0,class:"mb-4 flex flex-col"},A={class:"font-bold"},J={key:1,class:"mb-4 flex flex-col"},X={class:"mb-4 flex flex-col"},G={class:"font-bold"},H=e("sup",{class:"ml-1"},"PTS",-1),K={class:"flex-1"},Q={class:"text-xl font-bold"},W=["onSubmit"],Y={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Z={class:"text-xl font-bold"},ee={key:0,class:"flex flex-wrap items-center"},se={class:"text-xl font-bold"},te={key:0,class:"flex flex-wrap items-center"},le={class:"flex w-full justify-between items-center"},oe={class:"text-xl font-bold"},ae=e("sup",{class:"ml-1"},"PTS",-1),re={class:"overflow-x-auto relative"},ne={class:"w-full whitespace-nowrap"},de={class:"text-left font-bold"},ie={class:"px-6 pb-4 pt-6"},ue={class:"px-6 pb-4 pt-6"},me={class:"px-6 pb-4 pt-6"},ce={class:"px-6 pb-4 pt-6"},_e={class:"border-t border-neutral-500"},fe={class:"flex flex-col"},he={class:"border-t border-neutral-500"},pe={class:"border-t border-neutral-500"},be=e("sup",{class:"ml-1"},"PTS",-1),we={class:"border-t border-neutral-500"},xe=e("sup",{class:"ml-1"},"PTS",-1),ye={key:0},ge={class:"border-t border-neutral-500 px-6 py-4",colspan:"3"},De={__name:"Show",props:{user:Object},setup(o){const f=o,d=v({name:f.user.name,email:f.user.email,photo:null}),g=()=>{d.post(route("users.update",f.user.id),{onSuccess:()=>{d.reset("photo")}})},V=()=>{confirm("Attention, cette action est irréversible. Voulez-vous vraiment supprimer votre compte et tous les scores associés?")&&N.delete(route("users.destroy",f.user.id))};return(t,c)=>(u(),i(h,null,[r(a(k),{title:o.user.name},null,8,["title"]),r(U,null,{default:n(()=>[e("div",L,[e("div",T,[e("figure",B,[e("img",{src:o.user.photo,alt:o.user.name,class:"w-60 rounded-lg"},null,8,j)]),e("h2",I,s(o.user.name),1),e("p",R,s(o.user.email),1),e("ul",$,[e("li",q,[e("span",z,s(t.__("Registered at")),1),e("span",null,[m(s(o.user.created_at),1),D,e("small",null,s(o.user.created_at_from_now),1)])]),e("li",E,[e("span",M,s(t.__("Id")),1),m(" "+s(o.user.id),1)]),o.user.latest_round_at?(u(),i("li",O,[e("span",A,s(t.__("Last round played at")),1),m(" "+s(o.user.latest_round_at),1)])):(u(),i("li",J,s(t.__("No round played yet")),1)),e("li",X,[e("span",G,s(t.__("Score")),1),e("span",null,[m(s(o.user.total_score),1),H])])]),e("button",{onClick:V,class:"btn-danger btn-sm mx-auto"},s(t.__("Delete my account")),1)]),e("div",K,[r(p,{class:"my-4"},{header:n(()=>[e("h2",Q,s(t.__("Informations")),1)]),footer:n(()=>[r(C,{loading:a(d).processing,class:"btn-primary ml-auto",form:"editUserForm",type:"submit"},{default:n(()=>[m(s(t.__("Update")),1)]),_:1},8,["loading"])]),default:n(()=>[e("form",{id:"editUserForm",onSubmit:S(g,["prevent"])},[r(x,{modelValue:a(d).name,"onUpdate:modelValue":c[0]||(c[0]=l=>a(d).name=l),error:a(d).errors.name,class:"mb-4 w-full",label:t.__("Name"),required:""},null,8,["modelValue","error","label"]),r(x,{modelValue:a(d).email,"onUpdate:modelValue":c[1]||(c[1]=l=>a(d).email=l),type:"email",error:a(d).errors.email,class:"mb-4 w-full",label:t.__("Email"),required:""},null,8,["modelValue","error","label"]),r(P,{modelValue:a(d).photo,"onUpdate:modelValue":c[2]||(c[2]=l=>a(d).photo=l),error:a(d).errors.photo,class:"mb-4 w-full",type:"file",accept:"image/*",label:t.__("Photo")},null,8,["modelValue","error","label"]),r(x,{modelValue:a(d).password,"onUpdate:modelValue":c[3]||(c[3]=l=>a(d).password=l),type:"password",error:a(d).errors.password,class:"mb-4 w-full",label:t.__("New password")+" ("+t.__("Optional")+")",autocomplete:"new-password",name:"new-password"},null,8,["modelValue","error","label"])],40,W)]),_:1}),e("div",Y,[r(p,{class:""},{header:n(()=>[e("h2",Z,s(t.__("Playlists")),1)]),default:n(()=>[o.user.playlists.length?(u(),i("ul",ee,[(u(!0),i(h,null,b(o.user.playlists,l=>(u(),i("li",{key:"playlist-"+l.id,class:y(["badge","bg-teal-900",l.user_id===o.user.id])},[r(a(_),{href:t.route("playlists.edit",l.id)},{default:n(()=>[m(s(l.name),1)]),_:2},1032,["href"])],2))),128))])):w("",!0)]),_:1}),r(p,{class:""},{header:n(()=>[e("h2",se,s(t.__("Rooms")),1)]),default:n(()=>[o.user.rooms.length?(u(),i("ul",te,[(u(!0),i(h,null,b(o.user.rooms,l=>(u(),i("li",{key:"room-"+l.id,class:y(["badge","bg-teal-900",l.user_id===o.user.id])},[r(a(_),{href:t.route("rooms.edit",l.id)},{default:n(()=>[m(s(l.name),1)]),_:2},1032,["href"])],2))),128))])):w("",!0)]),_:1})]),r(p,{class:"my-4 hidden lg:flex"},{header:n(()=>[e("div",le,[e("h2",oe,s(t.__("Scores")),1),e("span",null,[m(s(o.user.total_score),1),ae])])]),default:n(()=>[e("div",re,[e("table",ne,[e("thead",null,[e("tr",de,[e("th",ie,s(t.__("Room")),1),e("th",ue,s(t.__("Last played game")),1),e("th",me,s(t.__("Score")),1),e("th",ce,s(t.__("Score"))+" Max",1)])]),e("tbody",null,[(u(!0),i(h,null,b(o.user.scores.data,l=>(u(),i("tr",{key:l.room_id},[e("td",_e,[r(a(_),{class:"flex items-center px-6 py-4 focus:text-blinest-500",href:t.route("rooms.show",l.room_id)},{default:n(()=>[e("div",fe,s(l.name),1)]),_:2},1032,["href"])]),e("td",he,[r(a(_),{class:"flex items-center px-6 py-4",href:t.route("rooms.show",l.room_id),tabindex:"-1"},{default:n(()=>[m(s(l.date),1)]),_:2},1032,["href"])]),e("td",pe,[r(a(_),{class:"flex items-center px-6 py-4",href:t.route("rooms.show",l.room_id),tabindex:"-1"},{default:n(()=>[m(s(l.total),1),be]),_:2},1032,["href"])]),e("td",we,[r(a(_),{class:"flex items-center px-6 py-4",href:t.route("rooms.show",l.room_id),tabindex:"-1"},{default:n(()=>[m(s(l.max),1),xe]),_:2},1032,["href"])])]))),128)),o.user.scores.length===0?(u(),i("tr",ye,[e("td",ge,s(t.__("No scores")),1)])):w("",!0)])]),r(F,{links:o.user.scores.links},null,8,["links"])])]),_:1})])])]),_:1})],64))}};export{De as default};
