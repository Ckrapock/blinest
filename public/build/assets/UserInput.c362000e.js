import{h as c,i as x,k as g,B as k,o,b as l,a as t,s as y,M as w,t as f,l as b,F as _,y as M,g as B,m as S}from"./app.6178a65b.js";const T=["onSubmit"],U={class:"flex w-full items-center"},V={type:"submit",class:"btn-send h-14"},E={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24"},L=t("path",{d:"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"},null,-1),N={class:"mt-2 flex gap-2"},j=["innerHTML"],D={__name:"UserInput",props:{data:Object,channel:String},setup(m){var h;const e=m,i=c(null),d=c((h=e==null?void 0:e.data)==null?void 0:h.track),n=c(""),u=c([]);x(()=>e.data,a=>{d.value=a.track,r()}),g(()=>{r(),Echo.channel(e.channel).listen("TrackPlayed",()=>{u.value=[]})}),k(()=>{Echo.leave(e.channel)});const r=()=>{i.value.focus()},v=()=>{n.value.length>1&&e.data&&axios.post(`/rounds/${e.data.round_id}/tracks/${d.value.id}/check`,{text:n.value}).then(a=>{u.value.push(...a.data.good_answers),r()}),n.value=""};return(a,p)=>(o(),l(_,null,[t("form",{class:"flex w-full items-center justify-center",onSubmit:b(v,["prevent"])},[t("div",U,[y(t("input",{ref_key:"input",ref:i,"onUpdate:modelValue":p[0]||(p[0]=s=>n.value=s),type:"text",class:"h-14 flex-grow rounded-bl-md border-none p-2 text-2xl uppercase text-gray-600 focus:shadow-none focus:outline-none focus:ring-0",placeholder:"Une id\xE9e?",autofocus:""},null,512),[[w,n.value]]),t("button",V,[(o(),l("svg",E,[t("title",null,f(a.__("Send")),1),L]))])])],40,T),t("ul",N,[(o(!0),l(_,null,M(u.value,s=>(o(),l("li",{key:s.id,class:"flex items-center rounded-lg bg-teal-500 py-1 px-2 text-neutral-100"},[s.type.svg_icon?(o(),l("span",{key:0,class:"mr-1",innerHTML:s.type.svg_icon},null,8,j)):B("",!0),S(" "+f(s.value),1)]))),128))])],64))}};export{D as default};
