import{q as k,i as g,o as r,b as d,d as o,u as l,H as v,w as n,F as m,a as e,s as V,D as N,L as c,t as a,y as f,g as p,m as b,c as C,n as B,z as R}from"./app.6178a65b.js";import{_ as T}from"./AppLayout.ae28919a.js";import{_ as y}from"./Icon.b321052c.js";import{_ as $}from"./Pagination.d3597665.js";import{_ as j}from"./SearchFilter.cc6501ff.js";import{C as D}from"./Card.2e30a0a3.js";import{t as F,p as L}from"./pickBy.99845672.js";import"./LanguageSwitcher.06c97ed0.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./TextInput.8c9ba0ba.js";import"./debounce.f0f8076e.js";import"./_defineProperty.a10c78c5.js";const O=e("h1",{class:"mb-8 text-3xl font-bold"},"Rooms",-1),S={class:"mb-6 flex items-center justify-between"},z=e("label",{class:"mt-4 block text-gray-700"},"Trashed:",-1),H=e("option",{value:null},null,-1),I=e("option",{value:"with"},"With Trashed",-1),M=e("option",{value:"only"},"Only Trashed",-1),P=[H,I,M],U=e("span",null,"Create",-1),q=e("span",{class:"hidden md:inline"},"\xA0Room",-1),E={class:"overflow-x-auto"},W={class:"w-full whitespace-nowrap"},Y={class:"text-left font-bold"},A={class:"px-2 pb-4 pt-6"},G={class:"px-2 pb-4 pt-6"},J={class:"px-2 pb-4 pt-6"},K={class:"px-2 pb-4 pt-6"},Q={class:"px-2 pb-4 pt-6",colspan:"2"},X={class:"border-t"},Z=["src"],ee={class:"flex flex-col"},se={class:"max-w-[18rem] truncate text-gray-500"},te={class:"border-t"},oe={class:"flex items-center px-2 py-4 text-sm"},ae={class:"border-t"},le={class:"flex items-center px-2 py-4 text-sm"},re={class:"border-t"},de={class:"border-t"},ne={key:0,class:"text-xs text-neutral-500"},ie={class:"w-px border-t"},ce={key:0},_e={class:"border-t px-2 py-4",colspan:"6"},Ve={__name:"Index",props:{filters:Object,rooms:Object},setup(h){const x=h,i=k({search:x.filters.search,trashed:x.filters.trashed});g(i,F(()=>{R.Inertia.get("/rooms",L(i),{remember:"forget",preserveState:!0})},150),{deep:!0});const w=()=>{i.reset()};return(t,u)=>(r(),d(m,null,[o(l(v),{title:"Rooms"}),o(T,null,{default:n(()=>[O,e("div",S,[o(j,{modelValue:l(i).search,"onUpdate:modelValue":u[1]||(u[1]=s=>l(i).search=s),class:"mr-4 w-full max-w-md",onReset:w},{default:n(()=>[z,V(e("select",{"onUpdate:modelValue":u[0]||(u[0]=s=>l(i).trashed=s),class:"form-select mt-1 w-full"},P,512),[[N,l(i).trashed]])]),_:1},8,["modelValue"]),o(l(c),{class:"btn-primary",href:t.route("rooms.create")},{default:n(()=>[U,q]),_:1},8,["href"])]),o(D,null,{default:n(()=>[e("div",E,[e("table",W,[e("tr",Y,[e("th",A,a(t.__("Name")),1),e("th",G,a(t.__("Moderators")),1),e("th",J,a(t.__("Playlists")),1),e("th",K,a(t.__("Rounds played")),1),e("th",Q,a(t.__("Visibility")),1)]),(r(!0),d(m,null,f(h.rooms.data,s=>(r(),d("tr",{key:s.id,class:"hover:bg-neutral-200"},[e("td",X,[o(l(c),{class:"flex items-center px-2 py-4",href:t.route("rooms.edit",s.id)},{default:n(()=>[s.photo?(r(),d("img",{key:0,class:"-my-2 mr-2 block h-10 w-10 rounded-full",src:s.photo},null,8,Z)):p("",!0),e("div",ee,[b(a(s.name)+" ",1),e("small",se,a(s.description),1)]),s.deleted_at?(r(),C(y,{key:1,name:"trash",class:"ml-2 h-3 w-3 flex-shrink-0 fill-gray-400"})):p("",!0)]),_:2},1032,["href"])]),e("td",te,[o(l(c),{class:"flex items-center px-2 py-4",href:t.route("rooms.edit",s.id),tabindex:"-1"},{default:n(()=>[e("ul",oe,[(r(!0),d(m,null,f(s.moderators,_=>(r(),d("li",{key:_.id,class:"m-1 rounded bg-neutral-300 p-1"},a(_.name),1))),128))])]),_:2},1032,["href"])]),e("td",ae,[e("ul",le,[(r(!0),d(m,null,f(s.playlists,_=>(r(),d("li",{key:_.id},[o(l(c),{class:"m-1 rounded bg-neutral-300 p-1 hover:underline",href:t.route("playlists.edit",_.id),tabindex:"-1"},{default:n(()=>[b(a(_.name),1)]),_:2},1032,["href"])]))),128))])]),e("td",re,[o(l(c),{class:"flex flex-col items-start px-2 py-4",href:t.route("rooms.edit",s.id),tabindex:"-1"},{default:n(()=>[b(a(h.rooms.rounds_count),1)]),_:2},1032,["href"])]),e("td",de,[o(l(c),{class:"flex flex-col items-start px-2 py-4",href:t.route("rooms.edit",s.id),tabindex:"-1"},{default:n(()=>[e("span",{class:B(["m-1 rounded px-2 py-1",s.password?"bg-neutral-300":"bg-teal-600  text-neutral-100"])},a(s.password?t.__("No"):t.__("Yes")),3),s.password?(r(),d("small",ne,a(t.__("Password protected")),1)):p("",!0)]),_:2},1032,["href"])]),e("td",ie,[o(l(c),{class:"flex items-center px-4",href:t.route("rooms.edit",s.id),tabindex:"-1"},{default:n(()=>[o(y,{name:"cheveron-right",class:"block h-6 w-6 fill-gray-400"})]),_:2},1032,["href"])])]))),128)),h.rooms.length===0?(r(),d("tr",ce,[e("td",_e,a(t.__("No rooms found.")),1)])):p("",!0)])]),o($,{links:h.rooms.links},null,8,["links"])]),_:1})]),_:1})],64))}};export{Ve as default};
