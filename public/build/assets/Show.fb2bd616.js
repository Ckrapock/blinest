import{j as y,o,b as n,t as l,n as _,g as m,a as e,d as u,w as f,F as x,u as v,H as C,h as w,y as $,x as g}from"./app.2ccf841f.js";import{_ as S}from"./AppLayout.59afe51e.js";import{C as j}from"./Card.53d0f134.js";import{_ as q}from"./Modal.95e75e17.js";import"./LanguageSwitcher.cb537353.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Dropdown.6ea7b926.js";import"./Icon.6689216d.js";import"./Navbar.f548c814.js";import"./TextInput.c49deda3.js";import"./pickBy.83d2d581.js";import"./debounce.1e54c607.js";import"./_defineProperty.09f4b3d5.js";import"./SocialIcon.895ec767.js";const z={class:"relative inline-block"},B=["textContent"],L={class:"flex"},M=["textContent"],T=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),e("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})],-1),V=[T],N={__name:"Clip",props:{text:String},setup(t){const i=t,r=y({}),d=()=>{navigator.clipboard&&window.isSecureContext?(navigator.clipboard.writeText(i.text),r.value={content:"Copi\xE9",status:!0}):r.value={content:"Copie impossible",status:!1},setTimeout(()=>{r.value={}},1e3)};return(h,b)=>(o(),n("span",z,[r.value.content?(o(),n("div",{key:0,textContent:l(r.value.content),class:_(["absolute right-0 bottom-full mb-1 shadow text-white rounded-lg p-1 text-xs",r.value.status?"bg-green-500":"bg-red-500"])},null,10,B)):m("",!0),e("div",L,[e("div",{type:"text",id:"website-admin",class:"font-mono rounded-none rounded-l-lg bg-gray-50 border border-gray-300 text-gray-900 focus:ring-blue-500 focus:border-blue-500 min-w-0 text-xs border-gray-300 px-1.5 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",textContent:l(t.text)},null,8,M),e("span",{onClick:d,class:"inline-flex cursor-pointer items-center px-2 text-sm text-gray-900 bg-gray-200 border border-l-0 border-gray-300 rounded-r-md opacity-80 hover:opacity-100 dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600"},V)])]))}},H=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})],-1),I=[H],O={class:"p-6"},D={class:"my-4 text-xl"},F={__name:"Share",props:{url:String},setup(t){const i=y(!1);return(r,d)=>(o(),n(x,null,[e("button",{onClick:d[0]||(d[0]=h=>i.value=!0),class:_(r.$attrs.class)},I,2),u(q,{show:i.value,onClose:d[1]||(d[1]=h=>i.value=!1)},{default:f(()=>[e("div",O,[e("h2",D,l(r.__("Share this page")),1),u(N,{text:t.url},null,8,["text"])])]),_:1},8,["show"])],64))}},P={class:"mx-auto mt-8 max-w-xl"},R={class:"flex items-center justify-between text-xl"},A={class:"mb-6 flex items-center"},E=["src"],G={class:"font-bold"},J=e("sup",{class:"ml-1"},"PTS",-1),K={class:"mx-2 flex w-full items-center justify-between"},Q={class:"flex items-center"},U={class:"px-4 text-xl font-bold"},W={class:"flex flex-grow items-center"},X=["src"],Y={key:1,class:"ml-2"},Z=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-4 w-4 fill-yellow-500"},[e("path",{"fill-rule":"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z","clip-rule":"evenodd"})],-1),ee=[Z],te=["onClick","title"],se=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-4 w-4 group-hover:fill-yellow-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})],-1),oe=[se],ne=e("sup",null,"PTS",-1),le={class:"my-6 flex items-center gap-6"},ae={key:1},pe={__name:"Show",props:{team:Object,score:Number,members:Object,user:Object},setup(t){const i=t,r=i.members.sort((s,c)=>c.score-s.score),d=()=>{confirm("Are you sure?")&&g.Inertia.post(`/teams/${i.team.id}/leave`)},h=s=>{g.Inertia.post(`/teams/${s.id}/request`)},b=s=>{g.Inertia.post(`/teams/${s.id}/request/cancel`)},p=s=>{confirm("Veux-tu vraiment transferer la gestion de la team \xE0 ce membre?")&&g.Inertia.post(`/teams/${i.team.id}/owner/${s.id}`,{preserveState:!1})};return(s,c)=>(o(),n(x,null,[u(v(C),{title:t.team.name},null,8,["title"]),u(S,null,{default:f(()=>[e("div",P,[e("div",R,[e("div",A,[t.team.photo?(o(),n("img",{key:0,class:"-my-2 mr-2 block h-10 w-10 rounded-full",src:t.team.photo},null,8,E)):m("",!0),e("h1",G,"Team "+l(t.team.name),1)]),e("span",null,[w(l(t.score),1),J])]),u(j,null,{header:f(()=>[e("div",K,[e("div",Q,l(s.__("Members")),1),e("span",null,l(t.members.length)+" / "+l(t.team.seats),1)])]),default:f(()=>[e("ul",null,[(o(!0),n(x,null,$(v(r),(a,k)=>(o(),n("li",{key:a.id,class:"m-2 flex items-center rounded bg-neutral-900 p-4"},[e("div",U,l(k+1),1),e("div",W,[a.photo?(o(),n("img",{key:0,class:"-my-2 mr-2 block h-8 w-8 rounded-full",src:a.photo},null,8,X)):m("",!0),w(" "+l(a.name)+" ",1),a.id===t.team.user_id?(o(),n("span",Y,ee)):m("",!0),t.user.id===t.team.user_id&&a.id!=t.team.user_id?(o(),n("button",{key:2,onClick:re=>p(a),class:"group ml-2",title:s.__("Switch owner")},oe,8,te)):m("",!0)]),e("div",null,[w(l(a.score),1),ne])]))),128))])]),_:1}),e("div",le,[t.members.find(a=>a.id===t.user.id)?(o(),n("button",{key:0,type:"button",class:"btn-danger",onClick:d},l(s.__("Leave the team")),1)):(o(),n("div",ae,[t.user.declined_requests.includes(t.team.id)?(o(),n("button",{key:0,type:"button",onClick:c[0]||(c[0]=a=>b(t.team)),class:"btn-danger mx-auto my-6"},l(s.__("Declined request")),1)):t.user.pending_requests.includes(t.team.id)?(o(),n("button",{key:1,type:"button",onClick:c[1]||(c[1]=a=>b(t.team)),class:"btn-danger mx-auto my-6"},l(s.__("Cancel join request")),1)):(o(),n("button",{key:2,type:"button",onClick:c[2]||(c[2]=a=>h(t.team)),class:"btn-secondary mx-auto my-6"},l(s.__("Send a join request")),1))])),u(F,{url:s.route("teams.show",t.team)},null,8,["url"])])])]),_:1})],64))}};export{pe as default};
