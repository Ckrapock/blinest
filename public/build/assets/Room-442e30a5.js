import{k as c,q as _,L as w,h as f,w as h,x as g,u as b,o as s,b as t,c as n,t as l,g as i,a as p,R as x,n as y}from"./app-d721267d.js";const k={class:"relative h-full w-full"},z=t("div",{class:"swiper-lazy-preloader"},null,-1),B={key:0,class:"ribbon truncate text-xs"},C={class:"absolute top-0 left-0 w-auto rounded-br-md rounded-tl-md bg-neutral-800 p-3 text-sm text-white ease-in-out hover:scale-110"},M={class:"flex items-center"},V={key:0,class:"mr-1 font-bold text-orange-400"},R=["title"],S=t("path",{"fill-rule":"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z","clip-rule":"evenodd"},null,-1),T={key:1,class:"mr-1 font-bold text-orange-400"},j=["title"],E=t("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"},null,-1),N={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"mr-1 h-4 w-4 animate-pulse"},P=t("path",{"fill-rule":"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z","clip-rule":"evenodd"},null,-1),$=[P],L={class:"font-semibold"},q={class:"absolute bottom-0 flex w-full items-center justify-between gap-2 bg-neutral-900 py-2 text-sm uppercase text-gray-100"},D={class:"truncate font-semibold"},F={class:"whitespace-nowrap"},A={__name:"Room",props:{room:Object},setup(o){const r=o,m=`rooms.${r.room.id}`,v=c(null),a=c(null),d=c(r.room.is_playing),u=c(r.room.users_count);return _(()=>{Echo.channel(m).listen("RoundStarted",e=>{u.value=e.round.room.users_count,d.value=!0,a.value=e.round}).listen("TrackPlayed",e=>{r.room.value=e.room,u.value=e.room.users_count,a.value=e.round,v.value=e.track}).listen("RoundFinished",e=>{u.value=e.round.room.users_count,d.value=!1,a.value=e.round,a.value.current=0})}),w(()=>{Echo.leave(m)}),(e,O)=>(s(),f(b(y),{href:`/rooms/${o.room.slug}`,class:"swiper-lazy relative flex h-52 w-full flex-col items-center justify-center rounded-md bg-neutral-800 bg-cover bg-center transition duration-100 ease-in-out hover:z-10 hover:scale-110",style:g(`background-image: url(${o.room.photo_src?o.room.photo_src:o.room.photo});`)},{default:h(()=>[t("article",k,[z,!o.room.is_public&&o.room.owner?(s(),n("div",B,"@"+l(o.room.owner.name),1)):i("",!0),t("div",C,[t("div",M,[o.room.password?(s(),n("span",V,[(s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-4 w-4",title:e.__("Password protected")},[t("title",null,l(e.__("Password protected")),1),S],8,R))])):i("",!0),o.room.is_autostart?i("",!0):(s(),n("span",T,[(s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"h-5 w-5",title:e.__("This room is in manual start mode.")},[t("title",null,l(e.__("This room is in manual start mode.")),1),E],8,j))])),p(x,{name:"slide-fade"},{default:h(()=>[d.value?(s(),n("svg",N,$)):i("",!0)]),_:1}),t("span",L,l(u.value),1)])]),t("div",q,[t("span",D,l(o.room.name),1),t("div",F,l(a.value?a.value.current:o.room.current_track_index)+" / "+l(o.room.tracks_by_round),1)])])]),_:1},8,["href","style"]))}};export{A as default};
