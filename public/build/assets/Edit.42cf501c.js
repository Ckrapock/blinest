import{q as k,e as $,o as d,b as u,d as l,u as e,w as o,F as y,H as g,a as n,L as x,h as f,t as i,g as c,m as v,y as O,c as j,x as _}from"./app.2ccf841f.js";import{_ as B}from"./AppLayout.59afe51e.js";import{C}from"./Card.53d0f134.js";import{_ as F}from"./TextInput.c49deda3.js";import{_ as L}from"./TextareaInput.8e6b7e85.js";import{_ as N}from"./SelectInput.7600b19c.js";import{L as S}from"./LoadingButton.0800d954.js";import{_ as T}from"./TrashedMessage.39a2a81b.js";import{_ as U,a as D,b as P}from"./RoomsList.3c4a519d.js";import"./LanguageSwitcher.cb537353.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Dropdown.6ea7b926.js";import"./Icon.6689216d.js";import"./Navbar.f548c814.js";import"./pickBy.83d2d581.js";import"./debounce.1e54c607.js";import"./_defineProperty.09f4b3d5.js";import"./SocialIcon.895ec767.js";import"./Pagination.535567c1.js";import"./Modal.95e75e17.js";import"./Spinner.ad70554a.js";const A={class:"mb-4 text-3xl font-bold"},E=n("span",{class:"font-medium"}," / ",-1),H={class:"flex flex-wrap gap-4"},I={key:0,class:"flex w-full flex-col xl:w-1/4"},q=n("h3",{class:"text-xl font-bold"},"Playlist",-1),M=["onSubmit"],R=["value"],z={class:"flex-1"},fe={__name:"Edit",props:{playlist:Object,filters:Object,answer_types:Object,tracks:Object,moderators:Object},setup(s){const p=s,t=k(p.playlist),b=$().props.value.auth.user,h=()=>{t.put(`/playlists/${p.playlist.id}`,{onSuccess:()=>t.reset("password","photo")})},w=()=>{confirm("Are you sure you want to delete this playlist?")&&_.Inertia.delete(`/playlists/${p.playlist.id}`)},V=()=>{confirm("Are you sure you want to restore this playlist?")&&_.Inertia.put(`/playlists/${p.playlist.id}/restore`)};return(a,m)=>(d(),u(y,null,[l(e(g),{title:`${e(t).name}`},null,8,["title"]),l(B,null,{default:o(()=>[n("h1",A,[l(e(x),{href:a.route("playlists")},{default:o(()=>[f(i(a.__("Playlists")),1)]),_:1},8,["href"]),E,f(" "+i(e(t).name),1)]),n("div",H,[e(b).id===s.playlist.user_id?(d(),u("div",I,[l(C,{class:"mb-4"},{header:o(()=>[q]),footer:o(()=>[s.playlist.deleted_at?c("",!0):(d(),u("button",{key:0,class:"text-sm text-red-500 hover:underline",tabindex:"-1",type:"button",onClick:w},i(a.__("Delete")),1)),l(S,{loading:e(t).processing,class:"btn-primary ml-auto",form:"playlistForm",type:"submit"},{default:o(()=>[f(i(a.__("Update")),1)]),_:1},8,["loading"])]),default:o(()=>[n("form",{id:"playlistForm",class:"p-4",onSubmit:v(h,["prevent"])},[l(F,{modelValue:e(t).name,"onUpdate:modelValue":m[0]||(m[0]=r=>e(t).name=r),error:e(t).errors.name,class:"mb-4 w-full",label:a.__("Title")},null,8,["modelValue","error","label"]),l(L,{modelValue:e(t).description,"onUpdate:modelValue":m[1]||(m[1]=r=>e(t).description=r),error:e(t).errors.description,class:"mb-4 w-full",label:a.__("Description")},null,8,["modelValue","error","label"]),l(N,{modelValue:e(t).user_id,"onUpdate:modelValue":m[2]||(m[2]=r=>e(t).user_id=r),error:e(t).errors.user_id,class:"w-full",label:a.__("Owner")},{default:o(()=>[(d(!0),u(y,null,O(s.playlist.moderators,r=>(d(),u("option",{value:r.id},i(r.name),9,R))),256))]),_:1},8,["modelValue","error","label"]),n("small",null,i(a.__("Transfer the playlist management to a moderator.")),1)],40,M)]),_:1}),l(U,{playlist:s.playlist,class:"mb-4"},null,8,["playlist"]),l(D,{playlist:s.playlist},null,8,["playlist"])])):c("",!0),n("div",z,[s.playlist.deleted_at?(d(),j(T,{key:0,class:"mb-6",onRestore:V},{default:o(()=>[f(i(a.__("This playlist has been deleted.")),1)]),_:1})):c("",!0),l(P,{playlist:s.playlist,filters:s.filters,tracks:s.tracks,answer_types:s.answer_types},null,8,["playlist","filters","tracks","answer_types"])])])]),_:1})],64))}};export{fe as default};
