import{P as w,l as v,c as r,a as l,u as i,w as d,F as u,o,X as C,t as a,g as m,n as c,d as h,h as p,b as e,v as x,f as N,s as V}from"./app-d721267d.js";import{_ as B}from"./AppLayout-3f82a911.js";import{_ as g}from"./Icon-97e692a8.js";import{_ as R}from"./Pagination-dbebdbb6.js";import{_ as j}from"./SearchFilter-b63de53d.js";import{C as $}from"./Card-73e0c1e9.js";import{t as P,p as S}from"./throttle-815b75de.js";import"./LanguageSwitcher-882651fe.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Dropdown-1979e914.js";import"./Navbar-e1fd621c.js";import"./TextInput-09144107.js";import"./v4-cf522c50.js";import"./SocialIcon-7b1795d7.js";import"./_defineProperty-2694e645.js";import"./isSymbol-00efd63c.js";import"./debounce-c15f2e14.js";const F={key:0,class:"mb-8 text-3xl font-bold"},O={key:1,class:"mb-6 flex items-center justify-between"},z={class:"overflow-x-auto"},A={class:"w-full whitespace-nowrap"},D={class:"text-left font-bold"},E={class:"px-2 pb-4 pt-6"},I={class:"px-2 pb-4 pt-6"},J={class:"px-2 pb-4 pt-6"},L={class:"px-2 pb-4 pt-6"},M={class:"px-2 pb-4 pt-6"},T={class:"px-2 pb-4 pt-6",colspan:"2"},U={class:"border-t"},X=["src"],Y={class:"flex flex-col"},q={class:"max-w-[18rem] truncate text-gray-500"},G={class:"border-t"},H={class:"flex items-center px-2 py-4 text-sm"},K={class:"border-t"},Q={class:"border-t"},W={key:0,class:"flex items-center px-2 py-4 text-sm"},Z={key:1,class:"text-xs text-neutral-500"},ee={class:"border-t"},te={class:"border-t"},se={key:0,class:"text-xs text-neutral-500"},ae={class:"w-px border-t"},oe={key:0},re={class:"border-t px-2 py-4",colspan:"6"},le={key:3,class:"mx-auto max-w-screen-xl py-8 px-4 text-center lg:py-16 lg:px-6"},ie={class:"mx-auto mb-8 max-w-screen-sm lg:mb-16"},ne={class:"mb-4 text-4xl font-extrabold tracking-tight"},de=e("p",{class:"text-lg"},[h(`"Si à 50 ans on n'a pas de Room sur Blinest, on a raté sa vie." `),e("br"),e("small",{class:"text-xs italic"},"Anonyme.")],-1),ce={class:"my-8 flex justify-center"},Re={__name:"Index",props:{filters:Object,rooms:Object},setup(n){const b=n,_=w({search:b.filters.search,trashed:b.filters.trashed});v(_,P(()=>{V.get("/rooms",S(_),{remember:"forget",preserveState:!0})},150),{deep:!0});const k=()=>{_.reset()};return(t,y)=>(o(),r(u,null,[l(i(C),{title:"Rooms"}),l(B,null,{default:d(()=>[n.rooms&&n.rooms.data.length?(o(),r("h1",F,a(t.__("Rooms")),1)):m("",!0),n.rooms&&n.rooms.data.length?(o(),r("div",O,[l(j,{modelValue:i(_).search,"onUpdate:modelValue":y[0]||(y[0]=s=>i(_).search=s),class:"mr-4 w-full max-w-md",onReset:k},null,8,["modelValue"]),l(i(c),{class:"btn-primary",href:t.route("rooms.create")},{default:d(()=>[h(a(t.__("Create a room")),1)]),_:1},8,["href"])])):m("",!0),n.rooms&&n.rooms.data.length?(o(),p($,{key:2},{default:d(()=>[e("div",z,[e("table",A,[e("tr",D,[e("th",E,a(t.__("Name")),1),e("th",I,a(t.__("Moderators")),1),e("th",J,a(t.__("Category")),1),e("th",L,a(t.__("Playlists")),1),e("th",M,a(t.__("Rounds played")),1),e("th",T,a(t.__("Visibility")),1)]),(o(!0),r(u,null,x(n.rooms.data,s=>(o(),r("tr",{key:s.id},[e("td",U,[l(i(c),{class:"flex items-center px-2 py-4",href:t.route("rooms.edit",s.id)},{default:d(()=>[s.photo?(o(),r("img",{key:0,class:"-my-2 mr-2 block h-10 w-10 rounded-full",src:s.photo},null,8,X)):m("",!0),e("div",Y,[h(a(s.name)+" ",1),e("small",q,a(s.description),1)]),s.deleted_at?(o(),p(g,{key:1,name:"trash",class:"ml-2 h-3 w-3 flex-shrink-0 fill-gray-400"})):m("",!0)]),_:2},1032,["href"])]),e("td",G,[l(i(c),{class:"flex items-center px-2 py-4",href:t.route("rooms.edit",s.id),tabindex:"-1"},{default:d(()=>[e("ul",H,[(o(!0),r(u,null,x(s.moderators,f=>(o(),r("li",{key:f.id,class:"badge"},a(f.name),1))),128))])]),_:2},1032,["href"])]),e("td",K,[s.category?(o(),p(i(c),{key:0,class:"flex items-center px-2 py-4",href:t.route("rooms.edit",s.id),tabindex:"-1"},{default:d(()=>[h(a(s.category.name),1)]),_:2},1032,["href"])):m("",!0)]),e("td",Q,[l(i(c),{class:"flex items-center px-2 py-4",href:t.route("rooms.edit",s.id),tabindex:"-1"},{default:d(()=>[s.playlists.length?(o(),r("ul",W,[(o(!0),r(u,null,x(s.playlists,f=>(o(),r("li",{key:f.id,class:"badge"},a(f.name),1))),128))])):(o(),r("span",Z,a(t.__("No playlist")),1))]),_:2},1032,["href"])]),e("td",ee,[l(i(c),{class:"flex flex-col items-start px-2 py-4",href:t.route("rooms.edit",s.id),tabindex:"-1"},{default:d(()=>[h(a(s.rounds_count),1)]),_:2},1032,["href"])]),e("td",te,[l(i(c),{class:"flex flex-col items-start px-2 py-4",href:t.route("rooms.edit",s.id),tabindex:"-1"},{default:d(()=>[e("span",{class:N(["badge",s.password?"bg-neutral-600":"bg-teal-600  text-neutral-100"])},a(s.password?t.__("No"):t.__("Yes")),3),s.password?(o(),r("small",se,a(t.__("Password protected")),1)):m("",!0)]),_:2},1032,["href"])]),e("td",ae,[l(i(c),{class:"flex items-center px-4",href:t.route("rooms.edit",s.id),tabindex:"-1"},{default:d(()=>[l(g,{name:"cheveron-right",class:"block h-6 w-6 fill-gray-400"})]),_:2},1032,["href"])])]))),128)),n.rooms&&n.rooms.data.length===0?(o(),r("tr",oe,[e("td",re,a(t.__("No rooms found.")),1)])):m("",!0)])]),l(R,{links:n.rooms.links},null,8,["links"])]),_:1})):(o(),r("div",le,[e("div",ie,[e("h2",ne,a(t.__("Rooms")),1),de,e("div",ce,[l(i(c),{class:"btn-primary btn-lg",href:t.route("rooms.create")},{default:d(()=>[h(a(t.__("Create my first room")),1)]),_:1},8,["href"])])])]))]),_:1})],64))}};export{Re as default};
